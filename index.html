<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OrcaSlicer - Powerful 3D Printing Slicer</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #00675B;
      --dark-bg: #1a1a1a;
      --light-text: #ffffff;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      background-color: #f5f5f5;
    }
    .navbar {
      background-color: var(--dark-bg);
      padding: 1rem 2rem;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .navbar ul {
      display: flex;
      justify-content: space-between;
      align-items: center;
      list-style: none;
    }
    .navbar a {
      color: var(--light-text);
      text-decoration: none;
      padding: 0.5rem 1rem;
      transition: color 0.3s;
    }
    .navbar a:hover {
      color: var(--primary-color);
    }
    .hero {
      background: linear-gradient(135deg, var(--primary-color), #363636);
      color: var(--light-text);
      padding: 8rem 2rem 4rem;
      text-align: center;
    }
    .hero h1 {
      font-size: 3.5rem;
      margin-bottom: 1rem;
    }
    .download-btn {
      background-color: var(--light-text);
      color: var(--primary-color);
      padding: 1rem 2rem;
      border-radius: 25px;
      text-decoration: none;
      font-weight: bold;
      display: inline-block;
      margin: 1rem;
      transition: transform 0.3s;
      cursor: pointer;
    }
    .download-btn:hover {
      transform: translateY(-3px);
    }
    .features {
      padding: 4rem 2rem;
      background-color: var(--light-text);
    }
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    .feature-card {
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      text-align: center;
    }
    .feature-card i {
      font-size: 2.5rem;
      color: var(--primary-color);
      margin-bottom: 1rem;
    }
    .download-section {
      padding: 4rem 2rem;
      text-align: center;
    }
    .platform-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 2rem auto;
    }
    .platform-card {
      background: var(--light-text);
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    .platform-card h3 {
      margin-top: 1rem;
      font-size: 1.5rem;
    }
    .platform-card p {
      margin: 0.5rem 0 1rem;
      font-weight: bold;
    }
    .platform-card ul {
      list-style: none;
      padding: 0;
      text-align: left;
    }
    .platform-card li {
      margin: 0.5rem 0;
    }
    .platform-card a {
      color: var(--primary-color);
      font-weight: 600;
      text-decoration: none;
      transition: color 0.3s;
    }
    .platform-card a:hover {
      color: var(--primary-color);
      text-decoration: underline;
    }
    footer {
      background-color: var(--dark-bg);
      color: var(--light-text);
      padding: 2rem;
      text-align: center;
    }
    @media (max-width: 768px) {
      .navbar ul {
        flex-direction: column;
        text-align: center;
      }
      .hero h1 {
        font-size: 2.5rem;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <ul>
      <li>
        <a href="#home">
          <img src="images/OrcaSlicer_gradient_circle.svg" alt="OrcaSlicer logo" style="height:30px; vertical-align:middle; margin-right:0.5rem;">
          OrcaSlicer
        </a>
      </li>
      <div>
        <a href="#features">Features</a>
        <a href="#download">Download</a>
        <a href="https://github.com/SoftFever/OrcaSlicer/wiki" target="_blank">Documentation</a>
        <a href="https://discord.gg/orcaslicer" target="_blank">Community</a>
      </div>
    </ul>
  </nav>

  <section class="hero" id="home">
    <!-- Modified logo size -->
    <img src="images/OrcaSlicer_gradient_circle.svg" alt="OrcaSlicer logo" style="height:180px; margin-bottom:1rem;">
    <h1>Orca Slicer</h1>
    <p>Next-gen slicing software for precision 3D prints</p>
    <a href="#download" class="download-btn">Download Now</a>
  </section>

  <section class="features" id="features">
  <div class="features-grid">
    <div class="feature-card">
      <i class="fas fa-sliders-h"></i>
      <h3>Advanced Calibration Tools</h3>
      <p>Comprehensive suite: temperature towers, flow rate, retraction &amp; more for optimal performance.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-border-all"></i>
      <h3>Precise Wall and Seam Control</h3>
      <p>Adjust outer wall spacing and apply scarf seams to enhance print accuracy.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-layer-group"></i>
      <h3>Sandwich Mode and Polyholes Support</h3>
      <p>Use varied infill patterns and accurate hole shapes for improved clarity.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-life-ring"></i>
      <h3>Overhang and Support Optimization</h3>
      <p>Modify geometry for printable overhangs with precise support placement.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-tachometer-alt"></i>
      <h3>Granular Controls and Customization</h3>
      <p>Fine-tune print speed, layer height, pressure, and temperature with precision.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-network-wired"></i>
      <h3>Network Printer Support</h3>
      <p>Seamless integration with Klipper, PrusaLink, and OctoPrint for remote control.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-mouse-pointer"></i>
      <h3>Mouse Ear Brims &amp; Adaptive Bed Mesh</h3>
      <p>Automatic brims and adaptive mesh calibration ensure consistent adhesion.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-desktop"></i>
      <h3>User-Friendly Interface</h3>
      <p>Intuitive drag-and-drop design with pre-made profiles for popular printers.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-users"></i>
      <h3>Open-Source &amp; Community Driven</h3>
      <p>Regular updates fueled by continuous community contributions.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-print"></i>
      <h3>Wide Printer Compatibility</h3>
      <p>Supports a broad range of printers: Bambu Lab, Prusa, Creality, Voron, and more.</p>
    </div>
  </div>
</section>

  <section class="download-section" id="download">
    <h2>Download OrcaSlicer</h2>
    <div class="platform-cards">
      <div class="platform-card" id="windowsDownloads">
        <i class="fab fa-windows fa-3x"></i>
        <h3>Windows</h3>
        <p class="version">Version </p>
        <ul></ul>
      </div>
      <div class="platform-card" id="macosDownloads">
        <i class="fab fa-apple fa-3x"></i>
        <h3>macOS</h3>
        <p class="version">Version </p>
        <ul></ul>
      </div>
      <div class="platform-card" id="linuxDownloads">
        <i class="fab fa-linux fa-3x"></i>
        <h3>Linux</h3>
        <p class="version">Version </p>
        <ul></ul>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 OrcaSlicer</p>
    <div style="margin-top: 1rem;">
      <a href="https://github.com/SoftFever/OrcaSlicer" target="_blank" style="color: white; margin: 0 1rem;">
        <i class="fab fa-github fa-2x"></i>
      </a>
    </div>
  </footer>

  <script>
    // Global object to store arrays of download links for each platform
    const downloadLinks = {
      windows: [],
      macos: [],
      linux: []
    };

    // Function to group assets by platform based on file extension or keywords
    function groupAssetsByOS(assets) {
      assets.forEach(asset => {
        const name = asset.name.toLowerCase();
        if (name.endsWith('.exe') || name.includes('win')) {
          downloadLinks.windows.push(asset);
        } else if (name.endsWith('.dmg') || name.includes('mac')) {
          downloadLinks.macos.push(asset);
        } else if (name.endsWith('.appimage') || name.includes('linux')) {
          downloadLinks.linux.push(asset);
        }
      });
    }

    // Function to fetch latest release data and update download links and version numbers
    async function fetchDownloadLinks() {
      const apiUrl = 'https://api.github.com/repos/SoftFever/OrcaSlicer/releases/latest';
      try {
        const response = await fetch(apiUrl);
        const data = await response.json();
        // Get the release version from the API response (e.g. tag_name)
        const releaseVersion = data.tag_name || data.name || '';
        // Update all .version elements inside each platform card
        document.querySelectorAll('.platform-card .version').forEach(elem => {
          elem.textContent = `Version ${releaseVersion}`;
        });
        // Group assets by OS
        groupAssetsByOS(data.assets);
        // For each platform, list all downloadable assets
        for (const platform in downloadLinks) {
          const ul = document.querySelector(`#${platform}Downloads ul`);
          downloadLinks[platform].forEach(asset => {
            const li = document.createElement('li');
            li.style.margin = '0.5rem 0';
            const a = document.createElement('a');
            a.href = asset.browser_download_url;
            a.textContent = asset.name;
            a.target = '_blank';
            li.appendChild(a);
            ul.appendChild(li);
          });
        }
      } catch (error) {
        console.error('Error fetching release data:', error);
        document.getElementById('download').innerHTML += '<p>Error loading download links.</p>';
      }
    }

    // Automatically load download links on page load
    window.addEventListener('DOMContentLoaded', fetchDownloadLinks);

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });
  </script>
</body>
</html>
